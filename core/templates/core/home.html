{% extends "core/base.html" %}
{% load humanize %}
{% block title %}Home - QR App{% endblock title %}
{% block heading %}Welcome{% endblock heading %}

{% block content %}
  <div class="card">
    <p class="small">Quickly generate a QR code for any text/URL and scan images to decode QR data.</p>

    <div class="grid mt-1">
      <div class="card">
        <h3>Generate QR</h3>
        <p class="text-muted">Create a downloadable QR image from any text or URL.</p>
        <a class="btn mt-1" href="{% url 'generate_qr' %}">Go to Generator</a>
      </div>

      <div class="card">
        <h3>Scan QR</h3>
        <p class="text-muted">Upload an image with a QR code to decode its content.</p>
        <a class="btn mt-1" href="{% url 'scan_qr' %}">Go to Scanner</a>
      </div>
    </div>

    {% if recent %}
      <h4 class="mt-1">Recent QR Codes</h4>
      <div class="recent-list">
        {% for item in recent %}
          <div class="recent-item">
            <img src="{{ item.image.url }}" alt="qr" width="48" height="48">
            <div>
              <div><strong>{{ item.text|truncatechars:30 }}</strong></div>
              <div class="text-muted small">{{ item.created_at|naturaltime }}</div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
  </div>
{% endblock content %}
